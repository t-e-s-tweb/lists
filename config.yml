upstreams:
  groups:
    default:
    - https://res-acst1.absolight.net/dns-query
    - https://res-acst3.absolight.net/dns-query
    - https://resolver1.absolight.net/dns-query
    - https://resolver3.absolight.net/dns-query
    - https://blitz.ahadns.com/dns-query
    - https://dnsnl.alekberg.net/dns-query
    - https://dnsse-noads.alekberg.net/dns-query
    - https://dns.artikel10.org/dns-query
    - https://doh.opendns.com/dns-query
    - tcp-tls:8.8.8.8
    - https://8.8.8.8/dns-query
    - tcp-tls:9.9.9.10
    - https://9.9.9.10/dns-query
    - tcp-tls:1.1.1.1
    - https://1.1.1.1/dns-query
    - https://dns.digitale-gesellschaft.ch/dns-query
    - https://open.dns0.eu/dns-query
    - https://sg-sin.doh.sb/dns-query
    - https://de-ber.doh.sb/dns-query
    - https://uk-lon.doh.sb/dns-query
    - https://nl-ams2.doh.sb/dns-query
    - https://nl-ams.doh.sb/dns-query
    - https://de-fra.doh.sb/dns-query
    - https://de-dus.doh.sb/dns-query
    - https://dns.dnshome.de/dns-query
    - https://rdns.faelix.net/dns-query
    - https://ns0.fdn.fr/dns-query
    - https://ns1.fdn.fr/dns-query
    - https://doh.ffmuc.net/dns-query
    - https://doh.applied-privacy.net/query
    - https://8888.google/dns-query
    - https://dns.hostux.net/dns-query
    - https://doh.lacontrevoie.fr/dns-query
    - https://doh.mullvad.net/dns-query
  timeout: 1s

startVerifyUpstream: false

# accepted: dual, v4, v6
connectIPVersion: dual

blocking:
  blackLists:
    ads:
      - https://raw.githubusercontent.com/hagezi/dns-blocklists/main/hosts/pro.txt
#      - https://github.com/t-e-s-tweb/lists/releases/download/main/regexblock.txt 
  whiteLists:
     ads:
      - https://raw.githubusercontent.com/iam-py-test/allowlist/main/allowlist.txt
     # - https://raw.githubusercontent.com/rahilpathan/pihole-whitelist/main/1.LowWL.txt
      - https://raw.githubusercontent.com/dnswarden/blocklist-staging/main/whitelist/whitelistcommon.txt
      - https://raw.githubusercontent.com/dnswarden/blocklist-staging/main/whitelist/tinylist.txt
  clientGroupsBlock:
    default:
      - ads
  blockType: zeroIp
  blockTTL: 30m
  loading:
    refreshPeriod: 24h
    downloads:
      timeout: 600s
      attempts: 5
      cooldown: 10s
    concurrency: 1
    # default: blocking failOnError fast
    strategy: fast
    # default: 5 -1 disable
    maxErrorsPerSource: -1

caching:
  minTime: 10m
  maxTime: 96h
  maxItemsCount: 10000
  prefetching: true
  prefetchExpires: 2h
  prefetchThreshold: 5
  prefetchMaxItemsCount: 2000
  cacheTimeNegative: 30m

# optional: Mininal TLS version that the DoH and DoT server will use
minTlsServeVersion: 1.2

# if https port > 0: path to cert and key file for SSL encryption. if not set, self-signed certificate will be generated
#certFile: server.crt
#keyFile: server.key

# optional: use these DNS servers to resolve blacklist urls and upstream DNS servers. It is useful if no system DNS resolver is configured, and/or to encrypt the bootstrap queries.
bootstrapDns:
  - tcp+udp:1.1.1.1
  - https://1.1.1.1/dns-query
  - tcp+udp:129.250.35.251
  - tcp+udp:129.250.35.250
  - tcp+udp:195.113.144.194
  - tcp+udp:208.67.220.222
  - upstream: https://dns.digitale-gesellschaft.ch/dns-query
    ips:
      - 185.95.218.42
  - upstream: https://dns.quad9.net/dns-query
    ips:
      - 9.9.9.9
      - 149.112.112.112
  - upstream: https://dns.google/dns-query
    ips:
      - 8.8.8.8
      - 8.8.4.4

# optional: return NXDOMAIN for queries that are not FQDNs.
fqdnOnly:
  # default: false
  enable: false

ports:
  dns: 3267
 # tls: 853
#  https: 443
  http: 8100

log:
  # optional: Log level (one from debug, info, warn, error). Default: info
  level: error
  # optional: Log format (text or json). Default: text
  format: text
  # optional: log timestamps. Default: true
  timestamp: false
  # optional: obfuscate log output (replace all alphanumeric characters with *) for user sensitive data like request domains or responses to increase privacy. Default: false
  privacy: true

# optional: add EDE error codes to dns response
ede:
  # enabled if true, Default: false
  enable: false

# optional: configure optional Special Use Domain Names (SUDN)
specialUseDomains:
  # optional: block recomended private TLDs
  # default: true
  rfc6762-appendixG: true
